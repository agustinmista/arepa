(module prim
  (val main
    (print_int (twice (+ 3) (- 30 5))))

  (fun mymain (x)
    (print_int (twice (+ x) (- 10 3))))

  (fun twice (f x) (f (f x)))

  ;; the wrappers enable partial application of primitives
  (fun print_int (x) (__prim_print_int__ x))
  (fun + (x y)       (__prim_add_int__ x y))
  (fun - (x y)       (__prim_sub_int__ x y))
)