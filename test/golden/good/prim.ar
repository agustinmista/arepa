(module prim
  (val main
    (print_int (K (twice (+ 3) (- 30 5)) "dummy")))

  (val mymain
    (print_string (K "hey!" 3)))

  (fun twice (f x) (f (f x)))

  (fun K (x y) x)

  ;; the wrappers enable partial application of primitives
  (fun print_int    (x) (__prim_print_int__ x))
  (fun print_string (x) (__prim_print_string__ x))
  (fun + (x y)          (__prim_add_int__ x y))
  (fun - (x y)          (__prim_sub_int__ x y))
)